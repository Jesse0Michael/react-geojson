(this["webpackJsonpreact-geojson"]=this["webpackJsonpreact-geojson"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(2),i=n.n(o),c=n(3),s=n(8),l=(n(18),n(4)),u=n(26),d=n(5),p=n.n(d),m=n(6),g=(n(19),n(20),n(10));n(21);var f=function(e){var t=e.onLoad,n=e.onError,o=Object(a.useState)({drag:!1}),i=Object(l.a)(o,2),c=i[0],s=i[1],u=Object(a.useCallback)((function(e){s({drag:!1}),e.forEach((function(e){var a=new FileReader;a.onabort=function(){return n("file reading was aborted")},a.onerror=function(){return n("file reading has failed")},a.onload=function(){var e;try{e=JSON.parse(a.result)}catch(r){return void n("cannot parse geoJSON from file")}t(e)},a.readAsText(e)}))}),[t,n]),d=function(){s({drag:!0})},p=Object(g.a)({onDrop:u,noClick:!0}),m=p.getRootProps,f=p.getInputProps;return r.a.createElement("div",Object.assign({className:c.drag?"dropzone dropzone-drag":"dropzone"},m(),{onDragOver:function(e){return d()},onDragEnter:function(e){return d()},onDragLeave:function(e){s({drag:!1})}}),r.a.createElement("p",{style:{pointerEvents:"none"}},"Drag geo JSON files here, or click to select files"),r.a.createElement("input",Object.assign({className:"button"},f(),{style:{display:"block"}})))};p.a.accessToken="pk.eyJ1IjoiamVzc2UwbWljaGFlbCIsImEiOiJjazk5NDR0MDAweDB3M2Z0YW9ia2x4cjgxIn0._3heS1yvmszc0MIOphnH5g";function v(e){var t=e.entities.map((function(e){return{entityID:e.entityID,entityType:e.type}}));return{type:"Feature",properties:{id:e.id,entities:t,bounds:e.bounds,distance:e.distance,duration:e.duration,violations:e.violations},geometry:{type:"LineString",coordinates:e.path.map((function(e){return[e.lng,e.lat]}))}}}var b=function(){var e=Object(a.useState)({map:null,lng:-112,lat:33.5}),t=Object(l.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){var e=new p.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-112,33.5],zoom:9});e.on("move",(function(){o({map:e,lng:e.getCenter().lng.toFixed(4),lat:e.getCenter().lat.toFixed(4)})})),o({map:e,lng:e.getCenter().lng.toFixed(4),lat:e.getCenter().lat.toFixed(4)})}),[]);var i=Object(c.d)(),s=function(e){i.error(e);var t=document.getElementById("map");t.classList.add("shake"),setTimeout((function(){t.classList.remove("shake")}),1e3)};return r.a.createElement("div",null,r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",null,"Longitude: ",n.lng," Latitude: ",n.lat," ")),r.a.createElement("div",{id:"map",className:"mapContainer"}),r.a.createElement(f,{onLoad:function(e){var t;try{t=Object(m.center)(e)}catch(i){var a=function(e){if(console.log(e),Array.isArray(e.data)){var t=e.data.map((function(e){return v(e)}));return console.log(t),{type:"FeatureCollection",features:t}}return v(e)}(e);try{t=Object(m.center)(a),e=a}catch(c){return void s("JSON is not valid geometry")}}var r=Object(u.a)();n.map.addSource(r,{type:"geojson",data:e}),n.map.addLayer({id:r,type:"line",source:r,layout:{},paint:{"line-color":"#088","line-opacity":.8,"line-width":3}});var o=new p.a.Popup({closeButton:!1,closeOnClick:!1,maxWidth:"480px"});n.map.on("mouseenter",r,(function(e){n.map.getCanvas().style.cursor="pointer";for(var t=Object(m.center)(e.features[0]).geometry.coordinates,a=e.features[0].properties,r="",i=0,c=Object.entries(a);i<c.length;i++){var s=Object(l.a)(c[i],2),u=s[0],d=s[1];r+="".concat(u,": ").concat(d,"<br />")}for(;Math.abs(e.lngLat.lng-t[0])>180;)t[0]+=e.lngLat.lng>t[0]?360:-360;o.setLngLat(t).setHTML(r).addTo(n.map)})),n.map.on("mouseleave",r,(function(){n.map.getCanvas().style.cursor="",o.remove()})),n.map.flyTo({center:t.geometry.coordinates,zoom:11,essential:!0})},onError:s}))},y={position:c.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:c.c.FADE},O=function(){return r.a.createElement(c.a,Object.assign({template:s.a},y),r.a.createElement(b,null))};i.a.render(r.a.createElement(O,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.519d0e2c.chunk.js.map